(window.webpackJsonp_wp_block_custom_table=window.webpackJsonp_wp_block_custom_table||[]).push([[1],{8:function(e,t,n){}}]),function(e){function t(t){for(var c,r,a=t[0],i=t[1],s=t[2],m=0,b=[];m<a.length;m++)r=a[m],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&b.push(o[r][0]),o[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);for(u&&u(t);b.length;)b.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],c=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(c=!1)}c&&(l.splice(t--,1),e=r(r.s=n[0]))}return e}var c={},o={0:0},l=[];function r(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=c,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window.webpackJsonp_wp_block_custom_table=window.webpackJsonp_wp_block_custom_table||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=i;l.push([9,1]),n()}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blockEditor},function(e,t,n){var c;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var c=arguments[t];if(c){var l=typeof c;if("string"===l||"number"===l)e.push(c);else if(Array.isArray(c)){if(c.length){var r=o.apply(null,c);r&&e.push(r)}}else if("object"===l)if(c.toString===Object.prototype.toString)for(var a in c)n.call(c,a)&&c[a]&&e.push(a);else e.push(c.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(c=function(){return o}.apply(t,[]))||(e.exports=c)}()},function(e,t){e.exports=window.wp.blocks},,function(e,t,n){"use strict";n.r(t);var c=n(7),o=(n(8),n(0)),l=n(6),r=n.n(l),a=n(5),i=n(2),s=n(4),u=n(1),m=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"})),b=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z"})),h=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z"})),d=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(o.createElement)(u.Path,{d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z"})),v=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(o.createElement)(u.Path,{d:"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z"})),w=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(o.createElement)(u.Path,{d:"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z"})),p=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(o.createElement)(u.Path,{d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z"})),f=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(o.createElement)(u.Path,{d:"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z"})),O=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(o.createElement)(u.Path,{d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z"})),j=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M4 6v11.5h16V6H4zm1.5 1.5h6V11h-6V7.5zm0 8.5v-3.5h6V16h-6zm13 0H13v-3.5h5.5V16zM13 11V7.5h5.5V11H13z"})),g=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M12.5 3.9L6.7 9.7l1.1 1.1 4-4V20h1.4V6.7l4.5 4.1 1.1-1.1z"})),x=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M16.2 13.2l-4 4V4h-1.5v13.3l-4.5-4.1-1 1.1 6.2 5.8 5.8-5.8-1-1.1z"})),_=Object(o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(u.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),V=Object(o.createElement)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(u.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),y=n(3);const H=["align"];function E(e){return k(e.head)?k(e.body)?void 0:e.body[0]:e.head[0]}function z(e,t,n){if(!t)return e;const c=Object(y.pick)(e,["head","body"]),{sectionName:o,rowIndex:l}=t;return Object(y.mapValues)(c,(e,c)=>o&&o!==c?e:e.map((e,o)=>l&&l!==o?e:{cells:e.cells.map((e,l)=>function(e,t){if(!e||!t)return!1;switch(t.type){case"column":return"column"===t.type&&e.columnIndex===t.columnIndex;case"cell":return"cell"===t.type&&e.sectionName===t.sectionName&&e.columnIndex===t.columnIndex&&e.rowIndex===t.rowIndex}}({sectionName:c,columnIndex:l,rowIndex:o},t)?n(e):e)}))}function I(e,{sectionName:t,rowIndex:n,columnCount:c}){const o=E(e),l=void 0===c?Object(y.get)(o,["cells","length"]):c;return l?{[t]:[...e[t].slice(0,n),{cells:Object(y.times)(l,e=>{const n=Object(y.get)(o,["cells",e],{});return{...Object(y.pick)(n,H),content:"",tag:"head"===t?"th":"td"}})},...e[t].slice(n)]}:e}function k(e){return!e||!e.length||Object(y.every)(e,M)}function M(e){return!(e.cells&&e.cells.length)}const C=[{icon:m,title:Object(i.__)("Align column left"),align:"left"},{icon:b,title:Object(i.__)("Align column center"),align:"center"},{icon:h,title:Object(i.__)("Align column right"),align:"right"}],N={head:Object(i.__)("Header cell text"),body:Object(i.__)("Body cell text")},P={head:Object(i.__)("Header label")};function S({name:e,...t}){const n="t"+e;return Object(o.createElement)(n,t)}Object(c.registerBlockType)("innocode/wp-block-custom-table",{edit:function({attributes:e,setAttributes:t,insertBlocksAfter:n,isSelected:c}){const{hasFixedLayout:l,head:u,body:m}=e,[b,h]=Object(o.useState)(2),[H,B]=Object(o.useState)(2),[T,G]=Object(o.useState)();function L(n){T&&t(z(e,T,e=>({...e,content:n})))}function D(n){if(!T)return;const{sectionName:c,rowIndex:o}=T,l=o+n;t(I(e,{sectionName:c,rowIndex:l})),G({sectionName:c,rowIndex:l,columnIndex:0,type:"cell"})}function A(n=0){if(!T)return;const{columnIndex:c}=T,o=c+n;t(function(e,{columnIndex:t}){const n=Object(y.pick)(e,["head","body"]);return Object(y.mapValues)(n,(e,n)=>k(e)?e:e.map(e=>M(e)||e.cells.length<t?e:{cells:[...e.cells.slice(0,t),{content:"",tag:"head"===n?"th":"td"},...e.cells.slice(t)]}))}(e,{columnIndex:o})),G({rowIndex:0,columnIndex:o,type:"cell"})}function F(n=0){if(!T)return;const{sectionName:c,rowIndex:o,columnIndex:l}=T,r=o+n;t(function(e,{sectionName:t,rowIndex:n,newRowIndex:c}){const o=E(e);if(!Object(y.get)(o,["cells","length"]))return e;let l=Math.min(n,c),r=Math.max(n,c);return{[t]:[...e[t].slice(0,l),n>c?e[t][n]:e[t][c],n<c?e[t][n]:e[t][c],...e[t].slice(r+1)]}}(e,{sectionName:c,rowIndex:r,newRowIndex:o})),G({sectionName:c,rowIndex:r,columnIndex:l,type:"cell"})}Object(o.useEffect)(()=>{c||G()},[c]);const R=["head","body"].filter(t=>!k(e[t])),J=[{icon:d,title:Object(i.__)("Insert row before"),isDisabled:!T,onClick:function(){D(0)}},{icon:v,title:Object(i.__)("Insert row after"),isDisabled:!T,onClick:function(){D(1)}},{icon:w,title:Object(i.__)("Delete row"),isDisabled:!T,onClick:function(){if(!T)return;const{sectionName:n,rowIndex:c}=T;G(),t(function(e,{sectionName:t,rowIndex:n}){return{[t]:e[t].filter((e,t)=>t!==n)}}(e,{sectionName:n,rowIndex:c}))}},{icon:p,title:Object(i.__)("Insert column before"),isDisabled:!T,onClick:function(){A(0)}},{icon:f,title:Object(i.__)("Insert column after"),isDisabled:!T,onClick:function(){A(1)}},{icon:O,title:Object(i.__)("Delete column"),isDisabled:!T,onClick:function(){if(!T)return;const{sectionName:n,columnIndex:c}=T;G(),t(function(e,{columnIndex:t}){const n=Object(y.pick)(e,["head","body"]);return Object(y.mapValues)(n,e=>k(e)?e:e.map(e=>({cells:e.cells.length>=t?e.cells.filter((e,n)=>n!==t):e.cells})).filter(e=>e.cells.length))}(e,{sectionName:n,columnIndex:c}))}}],q=["head","body"].map(t=>Object(o.createElement)(S,{name:t,key:t},e[t].map(({cells:e},n)=>Object(o.createElement)("tr",{key:n},e.map(({content:e,tag:c,scope:l,align:i},s)=>Object(o.createElement)(a.RichText,{tagName:c,key:s,className:r()({["has-text-align-"+i]:i},"wp-block-table__cell-content"),scope:"th"===c?l:void 0,value:e,onChange:L,unstableOnFocus:()=>{G({sectionName:t,rowIndex:n,columnIndex:s,type:"cell"})},"aria-label":N[t],placeholder:P[t]})))))),K=!R.length;let Q=!0,U=!0;if(T)switch(Q=0==T.rowIndex,T.sectionName){case"head":U=T.rowIndex==u.length-1;break;case"body":U=T.rowIndex==m.length-1}return Object(o.createElement)("figure",Object(a.useBlockProps)(),!K&&Object(o.createElement)(a.BlockControls,null,Object(o.createElement)(s.ToolbarGroup,null,Object(o.createElement)(s.ToolbarItem,null,e=>Object(o.createElement)(s.DropdownMenu,{hasArrowIndicator:!0,icon:j,toggleProps:e,label:Object(i.__)("Edit table"),controls:J})),Object(o.createElement)(s.ToolbarButton,{icon:g,label:Object(i.__)("Move row up"),onClick:function(){F(-1)},disabled:Q}),Object(o.createElement)(s.ToolbarButton,{icon:x,label:Object(i.__)("Move row down"),onClick:function(){F(1)},disabled:U})),Object(o.createElement)(a.AlignmentToolbar,{label:Object(i.__)("Change column alignment"),alignmentControls:C,value:function(){if(T)return function(e,t,n){const{sectionName:c,rowIndex:o,columnIndex:l}=t;return Object(y.get)(e,[c,o,"cells",l,"align"])}(e,T)}(),onChange:n=>function(n){if(!T)return;const c={type:"column",columnIndex:T.columnIndex},o=z(e,c,e=>({...e,align:n}));t(o)}(n)}),Object(o.createElement)(s.ToolbarGroup,null,Object(o.createElement)(s.ToolbarButton,{icon:_,label:Object(i.__)("Insert centered dot"),onClick:function(){T&&t(z(e,T,e=>({...e,content:'<span class="centered-dot"></span>'})))},disabled:!T}))),!K&&Object(o.createElement)(a.InspectorControls,null,Object(o.createElement)(s.PanelBody,{title:Object(i.__)("Table settings"),className:"blocks-table-settings"},Object(o.createElement)(s.ToggleControl,{label:Object(i.__)("Fixed width table cells"),checked:!!l,onChange:function(){t({hasFixedLayout:!l})}}),Object(o.createElement)(s.ToggleControl,{label:Object(i.__)("Header section"),checked:!(!u||!u.length),onChange:function(){var n;t(k((n=e)["head"])?I(n,{sectionName:"head",rowIndex:0,columnCount:Object(y.get)(n,["body",0,"cells","length"],1)}):{head:[]})}}))),!K&&Object(o.createElement)("table",{className:r()({"has-fixed-layout":l})},q),K&&Object(o.createElement)(s.Placeholder,{label:Object(i.__)("Table"),icon:Object(o.createElement)(a.BlockIcon,{icon:V,showColors:!0}),instructions:Object(i.__)("Insert a table for sharing data.")},Object(o.createElement)("form",{className:"blocks-custom-table__placeholder-form",onSubmit:function(e){e.preventDefault(),t(function({rowCount:e,columnCount:t}){return{body:Object(y.times)(e,()=>({cells:Object(y.times)(t,()=>({content:"",tag:"td"}))}))}}({rowCount:parseInt(b,10)||2,columnCount:parseInt(H,10)||2}))}},Object(o.createElement)(s.TextControl,{type:"number",label:Object(i.__)("Column count"),value:H,onChange:function(e){B(e)},min:"1",className:"blocks-custom-table__placeholder-input"}),Object(o.createElement)(s.TextControl,{type:"number",label:Object(i.__)("Row count"),value:b,onChange:function(e){h(e)},min:"1",className:"blocks-custom-table__placeholder-input"}),Object(o.createElement)(s.Button,{className:"blocks-custom-table__placeholder-button is-primary",variant:"primary",type:"submit"},Object(i.__)("Create Table")))))},save:function({attributes:e}){const{hasFixedLayout:t,head:n,body:c}=e;if(!n.length&&!c.length)return null;const l=r()({"has-fixed-layout":t}),i=({type:e,rows:t})=>{if(!t.length)return null;const n="t"+e;return Object(o.createElement)(n,null,t.map(({cells:e},t)=>Object(o.createElement)("tr",{key:t},e.map(({content:e,tag:t,scope:n,align:c},l)=>{const i=r()({["has-text-align-"+c]:c});return Object(o.createElement)(a.RichText.Content,{className:i||void 0,"data-align":c,tagName:t,value:e,key:l,scope:"th"===t?n:void 0})}))))};return Object(o.createElement)("figure",a.useBlockProps.save(),Object(o.createElement)("table",{className:""===l?void 0:l},Object(o.createElement)(i,{type:"head",rows:n}),Object(o.createElement)(i,{type:"body",rows:c})))}})}]);