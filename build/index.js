!function(){var e,t={860:function(e,t,n){"use strict";var o=window.wp.blocks,l=window.wp.element,c=n(184),r=n.n(c),a=window.wp.blockEditor,i=window.wp.i18n,s=window.wp.components,m=window.wp.primitives,u=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})),h=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})),d=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})),v=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(m.Path,{d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z"})),w=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(m.Path,{d:"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z"})),f=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(m.Path,{d:"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z"})),p=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(m.Path,{d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z"})),g=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(m.Path,{d:"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z"})),b=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(m.Path,{d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z"})),x=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"M4 6v11.5h16V6H4zm1.5 1.5h6V11h-6V7.5zm0 8.5v-3.5h6V16h-6zm13 0H13v-3.5h5.5V16zM13 11V7.5h5.5V11H13z"})),V=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})),_=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})),E=(0,l.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(m.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),H=(0,l.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(m.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),y=window.lodash;const I=["align"];function z(e){return M(e.head)?M(e.body)?void 0:e.body[0]:e.head[0]}function k(e,t,n){if(!t)return e;const o=(0,y.pick)(e,["head","body"]),{sectionName:l,rowIndex:c}=t;return(0,y.mapValues)(o,((e,o)=>l&&l!==o?e:e.map(((e,l)=>c&&c!==l?e:{cells:e.cells.map(((e,c)=>function(e,t){if(!e||!t)return!1;switch(t.type){case"column":return"column"===t.type&&e.columnIndex===t.columnIndex;case"cell":return"cell"===t.type&&e.sectionName===t.sectionName&&e.columnIndex===t.columnIndex&&e.rowIndex===t.rowIndex}}({sectionName:o,columnIndex:c,rowIndex:l},t)?n(e):e))}))))}function C(e,{sectionName:t,rowIndex:n,columnCount:o}){const l=z(e),c=void 0===o?(0,y.get)(l,["cells","length"]):o;return c?{[t]:[...e[t].slice(0,n),{cells:(0,y.times)(c,(e=>{const n=(0,y.get)(l,["cells",e],{});return{...(0,y.pick)(n,I),content:"",tag:"head"===t?"th":"td"}}))},...e[t].slice(n)]}:e}function M(e){return!e||!e.length||(0,y.every)(e,N)}function N(e){return!(e.cells&&e.cells.length)}const B=[{icon:u,title:(0,i.__)("Align column left"),align:"left"},{icon:h,title:(0,i.__)("Align column center"),align:"center"},{icon:d,title:(0,i.__)("Align column right"),align:"right"}],S={head:(0,i.__)("Header cell text"),body:(0,i.__)("Body cell text")},P={head:(0,i.__)("Header label")};function T({name:e,...t}){const n=`t${e}`;return(0,l.createElement)(n,{...t})}(0,o.registerBlockType)("innocode/wp-block-custom-table",{edit:function({attributes:e,setAttributes:t,insertBlocksAfter:n,isSelected:o}){const{hasFixedLayout:c,head:m,body:u}=e,[h,d]=(0,l.useState)(2),[I,G]=(0,l.useState)(2),[O,D]=(0,l.useState)();function L(n){O&&t(k(e,O,(e=>({...e,content:n}))))}function A(n){if(!O)return;const{sectionName:o,rowIndex:l}=O,c=l+n;t(C(e,{sectionName:o,rowIndex:c})),D({sectionName:o,rowIndex:c,columnIndex:0,type:"cell"})}function Z(n=0){if(!O)return;const{columnIndex:o}=O,l=o+n;t(function(e,{columnIndex:t}){const n=(0,y.pick)(e,["head","body"]);return(0,y.mapValues)(n,((e,n)=>M(e)?e:e.map((e=>N(e)||e.cells.length<t?e:{cells:[...e.cells.slice(0,t),{content:"",tag:"head"===n?"th":"td"},...e.cells.slice(t)]}))))}(e,{columnIndex:l})),D({rowIndex:0,columnIndex:l,type:"cell"})}function j(n=0){if(!O)return;const{sectionName:o,rowIndex:l,columnIndex:c}=O,r=l+n;t(function(e,{sectionName:t,rowIndex:n,newRowIndex:o}){const l=z(e);if(!(0,y.get)(l,["cells","length"]))return e;let c=Math.min(n,o),r=Math.max(n,o);return{[t]:[...e[t].slice(0,c),n>o?e[t][n]:e[t][o],n<o?e[t][n]:e[t][o],...e[t].slice(r+1)]}}(e,{sectionName:o,rowIndex:r,newRowIndex:l})),D({sectionName:o,rowIndex:r,columnIndex:c,type:"cell"})}(0,l.useEffect)((()=>{o||D()}),[o]);const F=["head","body"].filter((t=>!M(e[t]))),R=[{icon:v,title:(0,i.__)("Insert row before"),isDisabled:!O,onClick:function(){A(0)}},{icon:w,title:(0,i.__)("Insert row after"),isDisabled:!O,onClick:function(){A(1)}},{icon:f,title:(0,i.__)("Delete row"),isDisabled:!O,onClick:function(){if(!O)return;const{sectionName:n,rowIndex:o}=O;D(),t(function(e,{sectionName:t,rowIndex:n}){return{[t]:e[t].filter(((e,t)=>t!==n))}}(e,{sectionName:n,rowIndex:o}))}},{icon:p,title:(0,i.__)("Insert column before"),isDisabled:!O,onClick:function(){Z(0)}},{icon:g,title:(0,i.__)("Insert column after"),isDisabled:!O,onClick:function(){Z(1)}},{icon:b,title:(0,i.__)("Delete column"),isDisabled:!O,onClick:function(){if(!O)return;const{sectionName:n,columnIndex:o}=O;D(),t(function(e,{columnIndex:t}){const n=(0,y.pick)(e,["head","body"]);return(0,y.mapValues)(n,(e=>M(e)?e:e.map((e=>({cells:e.cells.length>=t?e.cells.filter(((e,n)=>n!==t)):e.cells}))).filter((e=>e.cells.length))))}(e,{sectionName:n,columnIndex:o}))}}],$=["head","body"].map((t=>(0,l.createElement)(T,{name:t,key:t},e[t].map((({cells:e},n)=>(0,l.createElement)("tr",{key:n},e.map((({content:e,tag:o,scope:c,align:i},s)=>(0,l.createElement)(a.RichText,{tagName:o,key:s,className:r()({[`has-text-align-${i}`]:i},"wp-block-table__cell-content"),scope:"th"===o?c:void 0,value:e,onChange:L,onFocus:()=>{D({sectionName:t,rowIndex:n,columnIndex:s,type:"cell"})},"aria-label":S[t],placeholder:P[t]}))))))))),q=!F.length;let J=!0,K=!0;if(O)switch(J=0==O.rowIndex,O.sectionName){case"head":K=O.rowIndex==m.length-1;break;case"body":K=O.rowIndex==u.length-1}return(0,l.createElement)("figure",{...(0,a.useBlockProps)()},!q&&(0,l.createElement)(a.BlockControls,null,(0,l.createElement)(s.ToolbarGroup,null,(0,l.createElement)(s.ToolbarItem,null,(e=>(0,l.createElement)(s.DropdownMenu,{hasArrowIndicator:!0,icon:x,toggleProps:e,label:(0,i.__)("Edit table"),controls:R}))),(0,l.createElement)(s.ToolbarButton,{icon:V,label:(0,i.__)("Move row up"),onClick:function(){j(-1)},disabled:J}),(0,l.createElement)(s.ToolbarButton,{icon:_,label:(0,i.__)("Move row down"),onClick:function(){j(1)},disabled:K})),(0,l.createElement)(a.AlignmentToolbar,{label:(0,i.__)("Change column alignment"),alignmentControls:B,value:function(){if(O)return function(e,t,n){const{sectionName:o,rowIndex:l,columnIndex:c}=t;return(0,y.get)(e,[o,l,"cells",c,"align"])}(e,O)}(),onChange:n=>function(n){if(!O)return;const o={type:"column",columnIndex:O.columnIndex},l=k(e,o,(e=>({...e,align:n})));t(l)}(n)}),(0,l.createElement)(s.ToolbarGroup,null,(0,l.createElement)(s.ToolbarButton,{icon:E,label:(0,i.__)("Insert centered dot"),onClick:function(){O&&t(k(e,O,(e=>({...e,content:'<span class="centered-dot"></span>'}))))},disabled:!O}))),!q&&(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(s.PanelBody,{title:(0,i.__)("Table settings"),className:"blocks-table-settings"},(0,l.createElement)(s.ToggleControl,{label:(0,i.__)("Fixed width table cells"),checked:!!c,onChange:function(){t({hasFixedLayout:!c})}}),(0,l.createElement)(s.ToggleControl,{label:(0,i.__)("Header section"),checked:!(!m||!m.length),onChange:function(){var n,o;t(M((n=e)[o="head"])?C(n,{sectionName:o,rowIndex:0,columnCount:(0,y.get)(n,["body",0,"cells","length"],1)}):{[o]:[]})}}))),!q&&(0,l.createElement)("table",{className:r()({"has-fixed-layout":c})},$),q&&(0,l.createElement)(s.Placeholder,{label:(0,i.__)("Table"),icon:(0,l.createElement)(a.BlockIcon,{icon:H,showColors:!0}),instructions:(0,i.__)("Insert a table for sharing data.")},(0,l.createElement)("form",{className:"blocks-custom-table__placeholder-form",onSubmit:function(e){e.preventDefault(),t(function({rowCount:e,columnCount:t}){return{body:(0,y.times)(e,(()=>({cells:(0,y.times)(t,(()=>({content:"",tag:"td"})))})))}}({rowCount:parseInt(h,10)||2,columnCount:parseInt(I,10)||2}))}},(0,l.createElement)(s.TextControl,{type:"number",label:(0,i.__)("Column count"),value:I,onChange:function(e){G(e)},min:"1",className:"blocks-custom-table__placeholder-input"}),(0,l.createElement)(s.TextControl,{type:"number",label:(0,i.__)("Row count"),value:h,onChange:function(e){d(e)},min:"1",className:"blocks-custom-table__placeholder-input"}),(0,l.createElement)(s.Button,{className:"blocks-custom-table__placeholder-button is-primary",variant:"primary",type:"submit"},(0,i.__)("Create Table")))))},save:function({attributes:e}){const{hasFixedLayout:t,head:n,body:o}=e;if(!n.length&&!o.length)return null;const c=r()({"has-fixed-layout":t}),i=({type:e,rows:t})=>{if(!t.length)return null;const n=`t${e}`;return(0,l.createElement)(n,null,t.map((({cells:e},t)=>(0,l.createElement)("tr",{key:t},e.map((({content:e,tag:t,scope:n,align:o},c)=>{const i=r()({[`has-text-align-${o}`]:o});return(0,l.createElement)(a.RichText.Content,{className:i||void 0,"data-align":o,tagName:t,value:e,key:c,scope:"th"===t?n:void 0})}))))))};return(0,l.createElement)("figure",{...a.useBlockProps.save()},(0,l.createElement)("table",{className:""===c?void 0:c},(0,l.createElement)(i,{type:"head",rows:n}),(0,l.createElement)(i,{type:"body",rows:o})))}})},184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)){if(n.length){var r=l.apply(null,n);r&&e.push(r)}}else if("object"===c){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,o),c.exports}o.m=t,e=[],o.O=function(t,n,l,c){if(!n){var r=1/0;for(m=0;m<e.length;m++){n=e[m][0],l=e[m][1],c=e[m][2];for(var a=!0,i=0;i<n.length;i++)(!1&c||r>=c)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(a=!1,c<r&&(r=c));if(a){e.splice(m--,1);var s=l();void 0!==s&&(t=s)}}return t}c=c||0;for(var m=e.length;m>0&&e[m-1][2]>c;m--)e[m]=e[m-1];e[m]=[n,l,c]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,c,r=n[0],a=n[1],i=n[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(i)var m=i(o)}for(t&&t(n);s<r.length;s++)c=r[s],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(m)},n=self.webpackChunkwp_block_custom_table=self.webpackChunkwp_block_custom_table||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=o.O(void 0,[431],(function(){return o(860)}));l=o.O(l)}();